---
import Layout from '../layouts/Layout.astro';

// WhatsApp Click to Chat: country code + number, no spaces or + (e.g. 919876543210 for India)
const WHATSAPP_NUMBER = '7738263272';
---

<Layout>
  <header class="header">
    <nav class="nav">
      <a href="/" class="logo-wrap">
        <img src="/images/logo.webp" alt="Galley" class="logo" width="96" height="96" fetchpriority="high" decoding="async" />
      </a>
      <div class="nav-links">
        <a href="/" class="active">HOME</a>
        <a href="#our-story">OUR STORY</a>
        <a href="#contact">CONTACT US</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="hero-image">
        <img src="/images/image1.webp" alt="Coffee beans on dark surface with wooden scoop" width="800" height="600" fetchpriority="high" decoding="async" />
      </div>
      <div class="hero-content">
        <h1><span class="line1">Welcome aboard</span><span class="line2">Galley!</span></h1>
        <p>I'm Gal E, your coffee co-pilot. Let's embark on a flavour voyage together! Explore our offerings for a tasteful adventure!</p>
      </div>
    </section>

    <section id="offerings" class="offerings">
      <h2>Our Offerings</h2>
      <div class="offerings-content">
        <p>At Galley, we're all about crafting unforgettable beverage experiences tailored just for you!</p>
        <p>Picture this: from the rich, velvety goodness of espresso to the frothy delight of cappuccinos and the soothing warmth of lattes, we've got your coffee cravings covered.</p>
        <p>But wait, there's more!</p>
        <p>Dive into the refreshing world of cold brews or explore our eclectic tea selection for a taste adventure like no other.</p>
        <p>And guess what?</p>
        <p class="offerings-spacer"></p>
        <p>You won't be navigating this flavour journey alone –</p>
        <p>I'm Gal E, your trusty coffee co-pilot, here to guide you every step of the way with a sprinkle of playfulness and a dash of expertise. So, buckle up and get ready for a sip-worthy ride because at Galley, our mission is simple:</p>
        <p>To serve up joy, one cup at a time!</p>
      </div>
    </section>

    <section class="gal-e-section">
      <h2>This is how I, Gal E look like!</h2>
      <div class="gal-e-image">
        <img src="/images/image4.webp" alt="Gal E - Coffee vending machine" width="480" height="640" loading="lazy" decoding="async" />
      </div>
    </section>

    <section id="our-story" class="our-story">
      <h2>Our Story</h2>
      <div class="story-grid">
        <div class="story-card">
          <img src="/images/image2.webp" alt="Coffee cups - espresso, latte, cappuccino" width="400" height="280" loading="lazy" decoding="async" />
          <h3>The Beginning</h3>
          <p>In 2024, Galley was born from the shared vision of Rishwa and Chandra Pratap Pal. Fueled by their love for exceptional taste and delectable cuisine, they embarked on a mission to bring quality and affordability to travellers and adventurers alike. Their goal? To offer a swift, hassle-free, and budget-friendly experience, ensuring every explorer savours their favourite beverages without compromising on luxury or convenience.</p>
        </div>
        <div class="story-card">
          <img src="/images/image3.webp" alt="Global connectivity - Galley vision" width="400" height="280" loading="lazy" decoding="async" />
          <h3>The Vision</h3>
          <p>Galley envisions itself as the global leader in convenient, high-quality, and affordable taste experiences. By diversifying our offerings, expanding digitally, and entering international markets, we aim to redefine the beverage industry with a focus on sustainability and exceeding customer expectations every step of the way. With a commitment to omnipresence, Galley seeks to be there for taste lovers wherever they may be.</p>
        </div>
      </div>
    </section>

    <section id="contact" class="contact">
      <h2>Brewing Questions?</h2>
      <div class="contact-grid">
        <div class="contact-form-wrap">
          <h3>Send your queries here!</h3>
          <form class="contact-form" name="contact" method="POST" enctype="multipart/form-data" accept-charset="UTF-8" data-netlify="true" netlify-honeypot="bot-field" action="/thank-you/">
            <input type="hidden" name="form-name" value="contact" />
            <input type="hidden" name="reply_to" value="" />
            <p class="visually-hidden">
              <label>Do not fill this field if you're human: <input name="bot-field" /></label>
            </p>
            <label for="name">Name*</label>
            <input type="text" id="name" name="name" required />
            <label for="email">Email*</label>
            <input type="email" id="email" name="email" required />
            <label for="message">Message*</label>
            <textarea id="message" name="message" rows="5" required></textarea>
            <label for="attachments" class="attach-link">Attach Files</label>
            <input id="attachments" class="file-input" name="attachments" type="file" multiple />
            <span class="attachments" aria-live="polite">Attachments (0)</span>
            <button type="submit" class="send-btn">SEND</button>
            <p class="form-status" role="status" aria-live="polite" hidden></p>
            <button type="button" class="another-query-btn" hidden>Have another query? Fill it again</button>
          </form>
          <p class="recaptcha">This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a> apply.</p>
        </div>
        <div class="whatsapp-wrap">
          <h3>Prefer human experties?</h3>
          <p>Have a One-on-One with Mr. Chandra, Galley's founder. Simply send him a WhatsApp message, and he'll get back to you as soon as possible!</p>
          <a href={`https://wa.me/${WHATSAPP_NUMBER}`} class="whatsapp-btn" target="_blank" rel="noopener">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
            Click to Chat
          </a>
        </div>
      </div>
    </section>

    <section class="social">
      <h2>Social</h2>
      <div class="social-icons">
        <a href="https://www.facebook.com/galleycafeco" target="_blank" rel="noopener noreferrer" aria-label="Facebook" class="social-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
          </svg>
        </a>
        <a href="https://www.instagram.com/galley.cafe" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="social-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 5.358 2.618 7.77 7.98 7.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 5.354-.2 7.78-2.618 7.979-7.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-5.354-2.617-7.77-7.979-7.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
          </svg>
        </a>
      </div>
    </section>

    <footer class="footer">
      <p>Copyright © 2026 Galley - All Rights Reserved.</p>
    </footer>
  </main>
</Layout>

<script>
  (function() {
    const header = document.querySelector('.header');
    if (!header) return;
    let ticking = false;
    const update = () => {
      header.classList.toggle('scrolled', window.scrollY > 24);
      ticking = false;
    };
    window.addEventListener('scroll', () => {
      if (!ticking) {
        requestAnimationFrame(update);
        ticking = true;
      }
    }, { passive: true });
    update();
  })();

  (function() {
    const input = document.querySelector('#attachments');
    const count = document.querySelector('.attachments');
    if (!(input instanceof HTMLInputElement) || !count) return;
    const renderCount = () => {
      const total = input.files ? input.files.length : 0;
      count.textContent = `Attachments (${total})`;
    };
    input.addEventListener('change', renderCount);
    renderCount();
  })();

  (function() {
    const form = document.querySelector('.contact-form');
    if (!(form instanceof HTMLFormElement)) return;

    const sendBtn = form.querySelector('.send-btn');
    const status = form.querySelector('.form-status');
    const anotherBtn = form.querySelector('.another-query-btn');
    const nameInput = form.querySelector('#name');
    const emailInput = form.querySelector('#email');
    const attachmentsInput = form.querySelector('#attachments');
    const attachmentsCount = form.querySelector('.attachments');
    const defaultBtnText = sendBtn instanceof HTMLButtonElement ? sendBtn.textContent || 'SEND' : 'SEND';

    const setStatus = (message) => {
      if (!status) return;
      status.textContent = message;
      status.hidden = !message;
    };

    const renderAttachmentCount = () => {
      if (!(attachmentsInput instanceof HTMLInputElement) || !attachmentsCount) return;
      const total = attachmentsInput.files ? attachmentsInput.files.length : 0;
      attachmentsCount.textContent = `Attachments (${total})`;
    };

    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      if (!(sendBtn instanceof HTMLButtonElement)) return;
      sendBtn.disabled = true;
      sendBtn.textContent = 'SENDING...';
      setStatus('Sending your query...');
      if (anotherBtn instanceof HTMLButtonElement) anotherBtn.hidden = true;

      try {
        const formData = new FormData(form);
        if (!formData.get('form-name')) formData.set('form-name', 'contact');
        if (emailInput instanceof HTMLInputElement && emailInput.value) {
          formData.set('reply_to', emailInput.value.trim());
        }

        const response = await fetch('/', {
          method: 'POST',
          body: formData
        });

        if (!response.ok) throw new Error('Form submission failed');

        form.reset();
        renderAttachmentCount();
        setStatus('Thank you! Your query was sent successfully.');
        if (anotherBtn instanceof HTMLButtonElement) anotherBtn.hidden = false;
      } catch (error) {
        setStatus('Something went wrong. Please try again.');
      } finally {
        sendBtn.disabled = false;
        sendBtn.textContent = defaultBtnText;
      }
    });

    if (anotherBtn instanceof HTMLButtonElement) {
      anotherBtn.addEventListener('click', () => {
        form.reset();
        renderAttachmentCount();
        setStatus('');
        anotherBtn.hidden = true;
        if (nameInput instanceof HTMLElement) nameInput.focus();
      });
    }
  })();
</script>

<style>
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: var(--color-black);
    height: 72px;
  }

  .nav {
    max-width: 100%;
    margin: 0;
    padding: 0 2rem;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    height: 72px;
    position: relative;
  }

  .logo-wrap {
    display: block;
    background: var(--color-logo-bg);
    padding: 14px;
    position: absolute;
    top: 0;
    left: 18px;
    width: 132px;
    height: 132px;
    border-radius: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: width 180ms ease, height 180ms ease, padding 180ms ease, top 180ms ease, left 180ms ease, border-radius 180ms ease;
  }

  .logo {
    height: 96px;
    width: auto;
    display: block;
    transition: height 180ms ease;
  }

  .header.scrolled .logo-wrap {
    width: 56px;
    height: 56px;
    padding: 6px;
    top: 8px;
    left: 18px;
    border-radius: 6px;
  }

  .header.scrolled .logo {
    height: 40px;
  }

  .nav-links {
    display: flex;
    gap: 2rem;
  }

  .nav-links a {
    color: var(--color-white);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    letter-spacing: 0.05em;
  }

  .nav-links a.active {
    text-decoration: underline;
  }

  .nav-links a:hover {
    opacity: 0.9;
  }

  .nav-links a:focus-visible,
  .attach-link:focus-visible,
  .send-btn:focus-visible,
  .whatsapp-btn:focus-visible,
  .social-icon:focus-visible {
    outline: 2px solid var(--color-white);
    outline-offset: 3px;
  }

  .hero {
    min-height: 78vh;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: stretch;
  }

  .hero-image {
    background: var(--color-dark);
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .offerings,
  .gal-e-section,
  .our-story,
  .contact,
  .social {
    content-visibility: auto;
  }

  .hero-content {
    background: var(--color-dark);
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 6rem 4rem;
  }

  .hero h1 {
    color: var(--color-brown-light);
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 600;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .hero h1 .line2 {
    display: block;
    font-size: 1.4em;
    font-weight: 700;
  }

  .hero-content p {
    color: var(--color-text-light);
    font-size: 1.1rem;
    max-width: 440px;
  }

  .offerings {
    background: var(--color-brown);
    padding: 4rem 2rem;
    text-align: center;
  }

  .offerings h2 {
    color: var(--color-white);
    font-size: clamp(2rem, 4vw, 3rem);
    margin-bottom: 2rem;
  }

  .offerings-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .offerings-content p {
    color: var(--color-white);
    margin-bottom: 1rem;
    font-size: 1.05rem;
  }

  .offerings-content p.offerings-spacer {
    margin-bottom: 1.75rem;
  }

  .gal-e-section {
    background: var(--color-black);
    padding: 4rem 2rem;
    text-align: center;
  }

  .gal-e-section h2 {
    color: var(--color-brown-light);
    font-size: clamp(1.75rem, 3vw, 2.5rem);
    margin-bottom: 2rem;
  }

  .gal-e-image {
    max-width: 480px;
    margin: 0 auto;
  }

  .gal-e-image img {
    width: 100%;
    height: auto;
    max-height: 55vh;
    object-fit: contain;
    display: block;
    margin: 0 auto;
    border-radius: 8px;
  }

  .our-story {
    background: var(--color-red-brown);
    padding: 4rem 2rem;
  }

  .our-story h2 {
    color: var(--color-white);
    font-size: clamp(2rem, 4vw, 3rem);
    text-align: center;
    margin-bottom: 3rem;
  }

  .story-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    max-width: 1100px;
    margin: 0 auto;
  }

  .story-card {
    text-align: center;
  }

  .story-card img {
    width: 100%;
    height: 280px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 1.5rem;
  }

  .story-card h3 {
    color: var(--color-white);
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .story-card p {
    color: var(--color-text-light);
    font-size: 0.95rem;
    text-align: left;
  }

  .contact {
    background: var(--color-black);
    padding: 4rem 2rem;
  }

  .contact h2 {
    color: var(--color-brown-light);
    font-size: clamp(2rem, 3vw, 2.5rem);
    text-align: center;
    margin-bottom: 3rem;
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .contact-form-wrap h3,
  .whatsapp-wrap h3 {
    color: var(--color-white);
    font-size: 1.25rem;
    margin-bottom: 1rem;
  }

  .contact-form label {
    display: block;
    color: var(--color-text-light);
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
  }

  .contact-form input,
  .contact-form textarea {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 1rem;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: var(--color-white);
  }

  .contact-form input::placeholder,
  .contact-form textarea::placeholder {
    color: rgba(255, 255, 255, 0.5);
  }

  .attach-link {
    color: var(--color-text-light);
    font-size: 0.9rem;
    text-decoration: none;
    display: inline-flex;
    margin-bottom: 0.5rem;
    cursor: pointer;
  }

  .file-input {
    display: block;
    color: var(--color-text-light);
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
  }

  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .attachments {
    display: block;
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.85rem;
    margin-bottom: 1rem;
  }

  .send-btn {
    width: 100%;
    padding: 1rem;
    background: var(--color-white);
    color: var(--color-black);
    border: none;
    font-size: 1rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    border-radius: 8px;
    cursor: pointer;
  }

  .send-btn:hover {
    background: var(--color-text-light);
  }

  .send-btn:disabled {
    opacity: 0.75;
    cursor: wait;
  }

  .form-status {
    margin-top: 0.9rem;
    color: var(--color-text-light);
    font-size: 0.95rem;
  }

  .another-query-btn {
    margin-top: 0.85rem;
    width: 100%;
    padding: 0.85rem;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.35);
    background: transparent;
    color: var(--color-white);
    font-size: 0.95rem;
    cursor: pointer;
  }

  .another-query-btn:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  .recaptcha {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    margin-top: 1rem;
  }

  .recaptcha a {
    color: var(--color-text-light);
  }

  .whatsapp-wrap p {
    color: var(--color-text-light);
    margin-bottom: 1.5rem;
  }

  .whatsapp-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    background: #25D366;
    color: var(--color-white);
    text-decoration: none;
    font-weight: 600;
    border-radius: 8px;
  }

  .whatsapp-btn:hover {
    background: #20bd5a;
  }

  .social {
    background: var(--color-brown);
    padding: 3rem 2rem;
    text-align: center;
  }

  .social h2 {
    color: var(--color-white);
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  .social-icons {
    display: flex;
    justify-content: center;
    gap: 1rem;
  }

  .social-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: var(--color-dark);
    color: var(--color-white);
    border-radius: 50%;
  }

  .social-icon:hover {
    background: var(--color-black);
  }

  .social-icon svg {
    width: 24px;
    height: 24px;
  }

  .footer {
    background: var(--color-black);
    padding: 2rem;
    text-align: center;
  }

  .footer p {
    color: var(--color-text-light);
    font-size: 0.9rem;
  }

  @media (max-width: 768px) {
    .hero {
      grid-template-columns: 1fr;
    }

    .hero-image {
      min-height: 300px;
    }

    .hero-content {
      padding: 4rem 1.5rem;
    }

    .story-grid,
    .contact-grid {
      grid-template-columns: 1fr;
    }

    .nav {
      padding: 0 1rem;
    }

    .nav-links {
      gap: 1rem;
      font-size: 0.85rem;
    }

    .logo-wrap {
      width: 110px;
      height: 110px;
      padding: 12px;
    }

    .logo {
      height: 78px;
    }
  }
</style>
